{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/learning-rust","webpackCompilationHash":"e6ea3bbe3ddca9ef95da","result":{"data":{"markdownRemark":{"id":"6fc0ba16-f701-5b88-a87e-bd652a161de4","html":"<p>About half a year ago I wrote about the <a href=\"/posts/effects-of-leaving-the-comfort-zone\">Effects of leaving the comfort zone</a> and that, among other things, I’ve started learning the <a href=\"https://rust-lang.org\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Rust</a> programming language. People say, as a developer, you should learn one programming language every year. I’ve honestly never really tried it or made it a goal, but I also think it’s not trivial to truly <strong>learn</strong> a new programming language. It’s one thing to take a look, read the documentation and then play around with a few things. However, if you want to experience what stands out in the language of your choice, it’s probably better to work on an actual project with various use cases that cover the different language features.</p>\n<p>With a primary background in web development for about 10 years, I thought Rust would be a good candidate. The main reasons are, that I practically don’t have any background in systems programming and that I was looking for something that’s fun to explore. Rust is a systems programming language. Anything that is written in C or C++ can be written in Rust. It comes with interesting features and guarantees that many other languages don’t offer. At the same time, it is known that the learning curve of Rust is supposed to be pretty steep. How can I say no to that?</p>\n<p>With that said, I’d like to write about little Rust journey and how it has been going so far. If you’re new to Rust or consider giving the language a try, this might be interesting or even useful to you!</p>\n<h2 id=\"getting-started-can-be-tricky\"><a href=\"#getting-started-can-be-tricky\" aria-label=\"getting started can be tricky permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Getting started can be tricky</h2>\n<p>The first thing I do when I want to learn a new thing is to do a lot of reading. Rust makes that part fairly easy as there are a lot of official learning resources maintained by the Rust team. This includes the <a href=\"https://www.rust-lang.org/learn\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">official documentation</a>, as well as the <a href=\"https://doc.rust-lang.org/book/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Rust book</a>. If you feel like going a bit deeper, there are even books about the <a href=\"https://doc.rust-lang.org/rustc/index.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">rustc compiler</a>, about <a href=\"https://rust-cli.github.io/book/index.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">building command line tools</a>, about <a href=\"https://rust-embedded.github.io/book/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">building embedded programs</a> and many more. I’d argue that it’s not very common to have so many officially maintained docs and resources when it comes to programming languages.</p>\n<p>Obviously, simply reading isn’t going to cut it. Spending lots of time reading about something but not applying what we’ve learned immediately, is almost a waste of time. That’s why I’ve quickly came up with a project idea so I can put my Rust theory to use. At the time of writing this post I’m working for <a href=\"https://status.im\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Status</a> on the <a href=\"https://embark.status.im\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Embark</a> team. Embark is a command line tool that aims to help developers building, testing an deploying applications and I thought, it would be an interesting challenge to build <strong>something like</strong> Embark in Rust.</p>\n<p>So here we are, <a href=\"https://github.com/PascalPrecht/vibranium\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Vibranium</a> was born and I soon started writing my first CLI program. Luckily there are many “crates”, that’s what packages are called in the Rust ecosystem, built and tested by the community that help a lot with such tasks. Unfortunately, I quickly realised that simple things like outputting a string isn’t always as straight forward as I was used to (coming from languages like JavaScript). In total it took me about 2-3 days to successfully write a program that simply outputs the version number and author of the program in the command line.</p>\n<p>I should say that this wasn’t me trying to make this work 24/3. I’m learning Rust in my spare-time so I could really only play around with things for 1-2 hours every day. Still, that’s a lot, considering that I could do the same within a few minutes in NodeJS.</p>\n<p>It took me a while to realise and learn that Rust has a bunch of different type representations for strings. There’s <code class=\"language-text\">String</code>, <code class=\"language-text\">str</code> and depending on what API you’re dealing with, you might need a <code class=\"language-text\">&amp;String</code> or <code class=\"language-text\">&amp;str</code> respectively (mostly the latter, but let’s not get lost in details), which is a reference to a <code class=\"language-text\">str</code>.</p>\n<p>There are a lot of <a href=\"https://stackoverflow.com/questions/24158114/what-are-the-differences-between-rusts-string-and-str\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">resources</a> and <a href=\"https://www.ameyalokare.com/rust/2017/10/12/rust-str-vs-String.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">articles</a> out there that demystify the difference between those types and also their reasoning of existence so I won’t talk about it here. But at the end of the day, it boils down to how Rust manages memory and stores data in collaboration with its <strong>Ownership</strong> system. The latter being a fundamental feature of the language that enables <strong>memory-safety</strong>.</p>\n<p>Getting a good understanding of Ownership in Rust is crucial, so I’ve blogged about it over at <a href=\"https://thoughtram.io\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">thoughtram</a> in <a href=\"https://blog.thoughtram.io/ownership-in-rust/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">A closer look at Ownership in Rust</a>. You might want to give it a read.</p>\n<h2 id=\"error-handling-done-right\"><a href=\"#error-handling-done-right\" aria-label=\"error handling done right permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Error handling done right</h2>\n<p>The next thing I ran into was the different ways of handling errors in Rust and more importantly, the “correct” way of implementing your own. There are a few things to consider here. Rust uses the <code class=\"language-text\">Result&lt;T, E&gt;</code> type to represent “possibility of error”. A <code class=\"language-text\">Result&lt;T, E&gt;</code> either resolves into a value or into an error. In a way it’s simimlar to <code class=\"language-text\">Promises</code> in languages like JavaScript, which either <strong>resolve with a value</strong> or <strong>reject with an error</strong>. They have to be “unwrapped” to access what is being emitted.</p>\n<p>One thing that is fundamentally different though, is that the compiler requires you to handle both outcomes. If you’re dealing with a <code class=\"language-text\">Result&lt;T, E&gt;</code>, it’s either unwrapping with a type <code class=\"language-text\">Ok(T)</code>, or with an <code class=\"language-text\">Err(E)</code>. The unwrapping is done using one of my favourite language features in Rust: Pattern Matching.</p>\n<p>If you have experience with the Haskell programming langauge, pattern matching should be familiar to you. Pattern matching allows us to match certain expressions with patterns and if a pattern matches, its code block will be executed. Here’s an example of pattern matching a <code class=\"language-text\">Result&lt;T, E&gt;</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">match</span> some_expression_that_returns_result <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">Ok</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"The value is: {}\"</span><span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">Err</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">eprintln</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Aborted due to error: {}\"</span><span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Another way to “handle’ errors is to just assume there won’t be an error at all, in which case we can simply call <code class=\"language-text\">.unwrap()</code> on the <code class=\"language-text\">Result</code> type. This however is rather discouraged because if an error does occur, the program will panic and fall apart.</p>\n<p>Errors can be nicely composed and propagated as well if that’s what we need. This however, isn’t necessarily an easy thing to do if you’re new to this. Creating custom error types is also something that kept me busy for quite a while. Since I’ve developed Vibranium as a library, not just as a CLI program, I needed to make sure that the CLI program could respond to library specific errors. To make custom errors work, we quickly enter the world of <a href=\"https://doc.rust-lang.org/rust-by-example/trait.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Traits in Rust</a>, which, in a way, are similar to interfaces in other languages, but they are way more powerful.</p>\n<p>There’s a lot to learn just about that. I highly recommend you to check out <a href=\"https://blog.burntsushi.net/rust-error-handling/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">this article</a> to get a deep dive into error handling in Rust.</p>\n<h2 id=\"and-theres-so-much-more\"><a href=\"#and-theres-so-much-more\" aria-label=\"and theres so much more permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>And there’s so much more</h2>\n<p>There are many many more things I had to wrap my head around, such as <a href=\"https://doc.rust-lang.org/rust-by-example/custom_types/structs.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Structs</a> and <a href=\"https://doc.rust-lang.org/1.9.0/book/lifetimes.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Lifetimes</a>, or <a href=\"https://doc.rust-lang.org/1.9.0/book/generics.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Generics</a> and <a href=\"https://doc.rust-lang.org/1.9.0/book/deref-coercions.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Deref Coercions</a>.</p>\n<p>One thing however that really stood out to me is the <strong>very inclusive and active Rust community</strong>. There are various channels for beginners and advanced Rust users where no question is a dumb question. I personally got a lot of support and help there to make certain things work in Vibranium.</p>\n<p>If you want to learn a new language and need a nice challenge, I think Rust is a good place to get started.</p>\n<h2 id=\"tour-of-rust-workshop\"><a href=\"#tour-of-rust-workshop\" aria-label=\"tour of rust workshop permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tour of Rust workshop</h2>\n<p>In order to learn even more about Rust and dive deeper into the language I’m working on a few online courses with my friends over at <a href=\"https://egghead.io\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Egghead</a>. One of the best ways to learn something new is to teach it to someone else. Creating online courses is a great way of doing that. To ensure high quality and good topic coverage, we’re running an <a href=\"https://ti.to/egghead-live-online-events/a-tour-of-rust-with-pascal-precht-2020-01-23/discount/early\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">online workshop</a> called “Tour of Rust” on the 23 Janurary 2020.</p>\n<p>The workshop is a nice little introduction to the language and aims to give you just enough information and hands-on experience, so that you can start writing your own Rust programs. The ticket price is $199 but guess what, by reading this article, you’re getting $100 off!</p>\n<p>Thanks for reading about the start of my Rust journey. I’m write more in-depth articles over at <a href=\"https://blog.thoughtram.io\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">blog.thoughtram.io</a> so make sure to keep an eye on it!</p>","fields":{"slug":"/posts/learning-rust","tagSlugs":null},"frontmatter":{"date":"2020-01-15","description":"About a year ago I've started learning the Rust programming language. Here are a few thoughts about my experience.","tags":null,"title":"Learning Rust"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/learning-rust"}}}